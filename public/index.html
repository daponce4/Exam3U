<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perfil — Notas & Estadística</title>
  <style>
    :root {
      --bg: #f6f9fc;
      --card: #ffffff;
      --accent: #2a6fdb;
      --muted: #6b7280;
      --border: #e5e7eb;
      --ok: #16a34a;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 24px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg); color: #111827;
      line-height: 1.5;
    }
    header {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 24px;
      margin: 0 auto 18px;
      max-width: 920px;
      box-shadow: 0 2px 12px rgba(2, 6, 23, .04);
    }
    h1 {
      margin: 0 0 6px 0;
      font-size: clamp(22px, 3.2vw, 32px);
      color: #0f172a;
    }
    .subtitle { color: var(--muted); margin: 0; }
    .grid {
      display: grid; gap: 16px;
      grid-template-columns: 1fr;
      max-width: 920px; margin: 0 auto;
    }
    @media (min-width: 860px) { .grid { grid-template-columns: 1fr 1fr; } }
    section, .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 2px 12px rgba(2, 6, 23, .04);
    }
    h2 {
      margin: 0 0 12px 0;
      font-size: clamp(18px, 2.4vw, 22px);
      color: #0f172a;
    }
    .info p { margin: 6px 0; }
    .badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 999px;
      background: #eaf2ff;
      color: var(--accent);
      font-weight: 600;
      font-size: 12px;
      letter-spacing: .2px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
    }
    th, td {
      padding: 12px 10px;
      border-bottom: 1px solid var(--border);
      text-align: left;
      font-size: 14px;
    }
    th {
      background: #f1f5ff;
      color: #0f172a;
    }
    tfoot td { font-weight: 700; }
    .ok { color: var(--ok); font-weight: 700; }
    .muted { color: var(--muted); }
    .pill {
      background: #f1f5f9; color: #0f172a; font-weight: 600;
      border-radius: 8px; padding: 4px 8px; font-size: 12px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Perfil — Notas & Estadística</h1>
    <p class="subtitle">Vista personal del estudiante y calificaciones simuladas</p>
  </header>

  <div class="grid">
    <section class="info">
      <h2>Datos del estudiante</h2>
      <p><strong>Nombre:</strong> DIEGO PONCE</p>
      <p><strong>NRC:</strong> 22431</p>
      <p><strong>Correo institucional:</strong> <a href="mailto:daponce4@espe.edu.ec">daponce4@espe.edu.ec</a></p>
      <p><span class="badge">Semestre activo</span></p>
    </section>

    <section>
      <h2>Presentación</h2>
      <p>
        Soy estudiante con enfoque en desarrollo web y automatización con CI/CD. Me motiva construir soluciones
        simples, mantenibles y bien probadas. Mi hobby principal es el <strong>fútbol</strong>; disfruto jugar
        como mediocampista y seguir tácticas modernas. También me interesa el análisis de datos y la visualización
        de métricas para tomar decisiones informadas.
      </p>
    </section>

    <section class="card" style="grid-column: 1 / -1;">
      <h2>Calificaciones simuladas</h2>
      <table id="tabla-notas" aria-describedby="ayuda-notas">
        <thead>
          <tr>
            <th>Asignatura</th>
            <th>Parcial 1</th>
            <th>Parcial 2</th>
            <th>Proyecto</th>
            <th>Final (ponderado)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Programación Web</td>
            <td>88</td>
            <td>91</td>
            <td>95</td>
            <td class="final">—</td>
          </tr>
          <tr>
            <td>Estadística</td>
            <td>84</td>
            <td>89</td>
            <td>92</td>
            <td class="final">—</td>
          </tr>
          <tr>
            <td>Pruebas de Software</td>
            <td>90</td>
            <td>87</td>
            <td>93</td>
            <td class="final">—</td>
          </tr>
          <tr>
            <td>Ingeniería de Requisitos</td>
            <td>86</td>
            <td>90</td>
            <td>88</td>
            <td class="final">—</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4">Promedio general</td>
            <td id="promedio" class="ok">—</td>
          </tr>
        </tfoot>
      </table>
      <p id="ayuda-notas" class="muted">
        Nota final ponderada simulada con pesos: Parcial 1 (30%), Parcial 2 (30%), Proyecto (40%).
      </p>
      <p class="muted">
        <span class="pill">Simulación</span>
        Estos datos son demostrativos y no corresponden a notas reales.
      </p>
    </section>
  </div>

  <script>
    // Ponderaciones simuladas
    const pesos = { p1: 0.30, p2: 0.30, proy: 0.40 };

    function calcWeightedGrade(p1, p2, proy) {
      const nota = (p1 * pesos.p1) + (p2 * pesos.p2) + (proy * pesos.proy);
      return Math.round(nota * 100) / 100; // 2 decimales
    }

    (function calcularTabla() {
      const filas = document.querySelectorAll("#tabla-notas tbody tr");
      let suma = 0, n = 0;
      filas.forEach(tr => {
        const celdas = tr.querySelectorAll("td");
        const p1 = Number(celdas[1].textContent);
        const p2 = Number(celdas[2].textContent);
        const proy = Number(celdas[3].textContent);
        const final = calcWeightedGrade(p1, p2, proy);
        celdas[4].textContent = final.toFixed(2);
        suma += final; n += 1;
      });
      const promedio = (n > 0) ? (suma / n) : 0;
      document.getElementById("promedio").textContent = promedio.toFixed(2);
    })();
  </script>
</body>
</html>
